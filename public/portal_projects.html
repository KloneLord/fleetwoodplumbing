<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fleetwood Plumbing - Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/layout.css">
    <link rel="stylesheet" href="styles/colors.css">
    <script src="js/projects.js" defer></script>
</head>
<body>
<header>
    <div>
        <div class="logo" style="margin-left: 10px">Fleetwood Plumbing Pty Ltd</div>
        <nav>
            <div class="menu-buttons">
                <button onclick="window.location.href='portal_dashboard.html'">Dashboard</button>
                <button onclick="window.location.href='portal_clients.html'">Clients</button>
                <button onclick="window.location.href='portal_inventory.html'">Inventory</button>
                <button onclick="window.location.href='portal_projects.html'">Projects</button>
                <button onclick="window.location.href='portal_time_sheets.html'">Time Sheets</button>
                <button onclick="window.location.href='portal_schedule.html'">Schedule</button>
                <button onclick="window.location.href='portal_orders.html'">Orders</button>
                <button onclick="window.location.href='portal_inquiries.html'">Inquiries</button>
                <button onclick="window.location.href='portal_estimates.html'">Estimates</button>
                <button onclick="window.location.href='portal_invoicing.html'">Invoicing</button>
                <button onclick="logOut()">Log Out</button>
            </div>
        </nav>
    </div>
</header>

<main>
    <section class="the-container">
        <div class="inner-container">
            <!-- Tab Buttons -->
            <div class="tab-buttons">
                <button data-tab="project_list_tab" class="active" onclick="showTab('project_list_tab')">Project List</button>
                <button data-tab="add_project_tab" onclick="showTab('add_project_tab')">Add Project</button>
                <button data-tab="edit_project_tab" onclick="showTab('edit_project_tab')">Edit Project</button>
                <button data-tab="misc_project_tab" onclick="showTab('misc_project_tab')">Misc Project</button>
            </div>

            <!-- Tab Content -->
            <div id="project_list_tab" class="tab active">
                <h2>Project List</h2>
                <div class="delete-button-container">
                    <button id="deleteSelected">Delete Selected</button>
                    <button id="archiveSelected" onclick="archiveSelectedProjects()">Archive Selected</button>
                    <input type="text" id="projectSearch" placeholder="Search projects..." oninput="filterProjectList()" />
                </div>
                <table id="projectTable">
                    <thead>
                    <tr>
                        <th style="width: 5%;"><input type="checkbox" id="selectAll" onclick="selectAllRows(this)" /></th>
                        <th style="width: 25%;">Project Title</th>
                        <th style="width: 25%;">Customer</th>
                        <th style="width: 35%;">Address</th>
                        <th style="width: 10%;">Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td colspan="5">No projects found.</td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div id="add_project_tab" class="tab">
                <h2>Add Project</h2>
                <form id="add_project_form">
                    <div>
                        <label for="project_title">Project Title:</label>
                        <input type="text" id="project_title" name="project_title" required>
                    </div>
                    <div>
                        <label for="clientsDropdown">Client:</label>
                        <select id="clientsDropdown" name="clients" required>
                            <!-- Options will be populated dynamically from the customer list -->
                        </select>
                        <button type="button" onclick="window.location.href='portal_clients.html'">Add Client</button>
                    </div>
                    <div>
                        <label for="street">Street:</label>
                        <input type="text" id="street" name="street" required>
                    </div>
                    <div>
                        <label for="city">City/Town:</label>
                        <input type="text" id="city" name="city" required>
                    </div>
                    <div>
                        <label for="postcode">Postcode:</label>
                        <input type="text" id="postcode" name="postcode" required>
                    </div>
                    <div>
                        <label for="state">State:</label>
                        <input type="text" id="state" name="state" required>
                    </div>
                    <div>
                        <label for="country">Country:</label>
                        <input type="text" id="country" name="country" required>
                    </div>
                    <div>
                        <label for="description">Description:</label>
                        <textarea id="description" name="description" rows="4" required></textarea>
                    </div>
                    <button class="styled-button" type="submit">Submit</button>
                </form>
            </div>

            <div id="edit_project_tab" class="tab">
                <h2>Edit Project</h2>
                <form id="edit_project_form">
                    <div>
                        <label for="edit_project_title">Project Title:</label>
                        <input type="text" id="edit_project_title" name="edit_project_title" required>
                    </div>
                    <div>
                        <label for="edit_clientsDropdown">Client:</label>
                        <select id="edit_clientsDropdown" name="edit_clients" required>
                            <!-- Options will be populated dynamically from the customer list -->
                        </select>
                        <button type="button" onclick="window.location.href='portal_clients.html'">Add Client</button>
                    </div>
                    <div>
                        <label for="edit_street">Street:</label>
                        <input type="text" id="edit_street" name="edit_street" required>
                    </div>
                    <div>
                        <label for="edit_city">City/Town:</label>
                        <input type="text" id="edit_city" name="edit_city" required>
                    </div>
                    <div>
                        <label for="edit_postcode">Postcode:</label>
                        <input type="text" id="edit_postcode" name="edit_postcode" required>
                    </div>
                    <div>
                        <label for="edit_state">State:</label>
                        <input type="text" id="edit_state" name="edit_state" required>
                    </div>
                    <div>
                        <label for="edit_country">Country:</label>
                        <input type="text" id="edit_country" name="edit_country" required>
                    </div>
                    <div>
                        <label for="edit_description">Description:</label>
                        <textarea id="edit_description" name="edit_description" rows="4" required></textarea>
                    </div>
                    <button type="submit">Submit</button>
                </form>
            </div>

            <div id="misc_project_tab" class="tab">
                <h2>Misc Projects</h2>
                <div id="archivedProjectsContainer" class="scrollable-container">
                    <table id="archivedProjectsTable">
                        <thead>
                        <tr>
                            <th style="width: 25%;">Project Title</th>
                            <th style="width: 25%;">Customer</th>
                            <th style="width: 35%;">Address</th>
                            <th style="width: 15%;">Actions</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td colspan="4">No archived projects found.</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>
</main>
<footer>
    <p>&copy; 2024 Fleetwood Plumbing Pty Ltd. All Rights Reserved. | <a href="#">Privacy Policy</a></p>
    <p>Welcome, <span id="username"></span>!!!  Your role: <span id="role"></span>. Your access level: <span id="access"></span></p>
</footer>
</body>
</html>